# Metadata

In SEDOS the metadata standard [OEMetadata v.1.5.1](https://github.com/OpenEnergyPlatform/oemetadata#open-energy-family---open-energy-metadata-oemetadata) is used.

## Required metadata information 

In SEDOS a minimal mandatory set of metadata information is required to:

1. automatically process the input data in the data pipeline,
2. to provide useful context for data interpretation, and
3. to fulfil legal requirements.

## Mandatory set of metadata information

!!! Note "OEMetadata templates exist"

        You can build upon metadata templates ([scalar template](https://raw.githubusercontent.com/sedos-project/oedatamodel/main/oedatamodel-parameter/datamodel_scalars.json) and [timeseries template](https://raw.githubusercontent.com/sedos-project/oedatamodel/main/oedatamodel-parameter/datamodel_timeseries.json)).

Providing the following oem-keys when submitting your metadata is mandatory.

### General Keys

|  #  |       Key       |                                                                   Description                                                                    |                               Example                                |
|:---:|:---------------:|:------------------------------------------------------------------------------------------------------------------------------------------------:|:--------------------------------------------------------------------:|
|  1  |      name       |                                                       A file name or database table name.                                                        |                    oep_metadata_table_example_v15                    |
|  2  |      title      |                                                  A human readable full title including author.                                                   |              RLI - OEMetadata - Metadata example table               |
|  4  |   description   | A description or abstract of the package. It should be usable as  summary information for the entire package that is described by the  metadata. | Example table used to illustrate the metadata structure and meaning. |
|  6  |     subject     |                                            An array of objects with topics of the data in OEO terms.                                             |                                                                      |
| 6.1 |      name       |                                                        The class label of the OEO terms.                                                         |                                energy                                |
| 6.2 |      path       |                                                              The URI of the class.                                                               |      https://openenergy-platform.org/ontology/oeo/OEO_00000150       |
|  8  | publicationDate |                               A date of publishing of the data or metadata. Date format is ISO 8601 (YYYY-MM-DD).                                |                              2019-02-06                              |
|  9  |    @context     |                                       Necessary for registering Data on the Databus and to be SPARQL-able                                        |                              see here*                               |
*: https://raw.githubusercontent.com/OpenEnergyPlatform/oemetadata/master/metadata/latest/context.json




### Source Keys

Information about the individual sources the data stems from.

|    #   |     Key     |                                              Description                                             |                                                                                               Example                                                                                               |
|:------:|:-----------:|:----------------------------------------------------------------------------------------------------:|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|
| 12     | sources     | An array of objects with the used and underlying sources of the data and metadata.                   |                                                                                                                                                                                                     |
| 12.1   | title       | A human readable title of the source, a document title or organisation name.                         | IPCC Fifth Assessment Report                                                                                                                                                                        |
| 12.2   | description | A free text description of the data set.                                                             | Scientific climate change report by the UN                                                                                                                                                          |
| 12.3   | path        | A URL to the original source.                                                                        | https://www.ipcc.ch/site/assets/uploads/2018/02/ipcc_wg3_ar5_full.pdf                                                                                                                               |
| 12.4   | licenses    | An array of objects under which the source is provided.                                              |                                                                                                                                                                                                     |
| 12.4.1 | name        | The SPDX identifier.                                                                                 | ODbL-1.0                                                                                                                                                                                            |
| 12.4.2 | title       | The official (human readable) title of the license.                                                  | Open Data Commons Open Database License 1.0                                                                                                                                                         |
| 12.4.3 | path        | A link to the license text.                                                                          | https://opendatacommons.org/licenses/odbl/1-0/index.html                                                                                                                                            |
| 12.4.4 | instruction | A short description of rights and restrictions. The use of tl;drLegal is recommended.                | You are free to share and change, but you must attribute, and share derivations under the same license. See https://tldrlegal.com/license/odc-open-database-license-(odbl) for further information. |
| 12.4.5 | attribution | The copyright owner of the source. If attribution licenses are used, that name must be acknowledged. | © Intergovernmental Panel on Climate Change 2014                                                                                                                                                    |


### License Keys

The license of your entire csv.

|   #  |     Key     |                                                                                                 Description                                                                                                 |                                                                                               Example                                                                                               |
|:----:|:-----------:|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|
| 13   | licenses    | An array of objects of the license(s) under which the described  package is provided. It can depend on the licenses of the sources  (copyleft or share-alike) or can be granted by the creator of the data. |                                                                                                                                                                                                     |
| 13.1 | name        | The SPDX identifier.                                                                                                                                                                                        | ODbL-1.0                                                                                                                                                                                            |
| 13.2 | title       | The official (human readable) title of the license.                                                                                                                                                         | Open Data Commons Open Database License 1.0                                                                                                                                                         |
| 13.3 | path        | A link to the license text.                                                                                                                                                                                 | https://opendatacommons.org/licenses/odbl/1-0/index.html                                                                                                                                            |
| 13.4 | instruction | A short description of rights and restrictions. The use of tl;drLegal is recommended.                                                                                                                       | You are free to share and change, but you must attribute, and share derivations under the same license. See https://tldrlegal.com/license/odc-open-database-license-(odbl) for further information. |
| 13.5 | attribution | The copyright owner of the data. If attribution licenses are used, that name must be acknowledged.                                                                                                          | © Reiner Lemoine Institut                                                                                                                                                                           |


### Provenience Keys

Information about changes on the metadata.

|   #  |      Key     |                                                                                                                       Description                                                                                                                       |           Example          |
|:----:|:------------:|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|:--------------------------:|
| 14   | contributors | An array of objects of the people or organizations who contributed  to the data or metadata. Each object refers to one contributor. Every  contributor must have a title and property. The path, email, role and  organization properties are optional. |                            |
| 14.1 | title        | A name of the contributor.                                                                                                                                                                                                                              | Ludwig Hülk                |
| 14.2 | email        | A email address of the contributor or GitHub handle.                                                                                                                                                                                                    | @Ludee                     |
| 14.3 | date         | The date of the contribution. If the contribution took more than a  day, use the date of the final contribiution. Date Format is ISO 8601.                                                                                                              | 2016-06-16                 |
| 14.4 | object       | The target of the contribution. Which part of the package was  supplied or changed. Can be the data, metadata or both (data and  metadata).                                                                                                             | data and metadata          |
| 14.5 | comment      | A free text commentary on what has been done.                                                                                                                                                                                                           | Fixed a typo in the title. |


### Resource Keys

Needed to process the csv-table for the OEP.

|   #  |    Key    |                                                                                                                                                                                                                                                                                   Description                                                                                                                                                                                                                                                                                    |                                  Example                                 |
|:----:|:---------:|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|:------------------------------------------------------------------------:|
| 15   | resources |                                                                                                                                                                                                                                    An array of objects of the data. It describes the data resource as an individual file or (database) table.                                                                                                                                                                                                                                    |                                                                          |
| 15.1 | profile   |                                                                                                                                                                                 The profile of this descriptor according to the profiles  specification. This information is retained in order to comply with the  "Tabular Data Package" standard. Use "tabular-data-resource" for all  tables.                                                                                                                                                                                 | tabular-data-resource                                                    |
| 15.2 | name      | A name for the entire data package. The name must consist of only lowercase alphanumeric characters or underscore. It must not start with a number or underscore. In a database, this  will be the name of the table within the  schema containing it.  The name can correspond to the file name (minus the file-extension) of the data file describing the resource, if it complies with the naming convention above. Name also contains information about the [shema](https://openenergy-platform.org/dataedit/schemas) on the OEP, use "." to seperate shema from table name. | openstreetmap.osm_deu_line                                               |
| 15.3 | path      |                                                                                                                                                                                                                                         A URL that should be a permanent http(s) address or other path directly linking to the resource.                                                                                                                                                                                                                                         | https://openenergy-platform.org/dataedit/view/openstreetmap/osm_deu_line |
| 15.4 | format    |                                                                                                                                   The file extension. 'csv', 'xls', 'json' etc. would be expected to  be the standard file extension for this type of resource. When you  upload your data to the OEDB, in the shown metadata string, the format  will be changed accordingly to 'PostgreSQL', since the data there are  stored in a database.                                                                                                                                   | PostgreSQL                                                               |
| 15.5 | encoding  |                                                                                                                                                                       Specifies the character encoding of the resource's data file. The values should be one of the "Preferred MIME Names" for a character encoding registered with IANA. If no value for this key is specified then the default is UTF-8.                                                                                                                                                                       | UTF-8                                                                    |

### Resource Keys - Schema

Information about each column in the csv.

|      #     |       Key      |                                                                                                                                                      Description                                                                                                                                                       |                          Example                          |
|:----------:|:--------------:|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|:---------------------------------------------------------:|
| 15.6       | schema         |                                                                                An object that describes the structure of the present data. It  contains all fields (columns of the table), the primary key and optional  foreign keys.                                                                                 |                                                           |
| 15.6.1     | fields         |                                                                                                                An array of objects describing a column and providing name, description, type and unit.                                                                                                                 |                                                           |
| 15.6.1.1   | name           |                                                                                  The name of the field. The name must consist of only lowercase alphanumeric characters or underscore. It must not start with a number or underscore.                                                                                  | year                                                      |
| 15.6.1.2   | description    |                                                                                                                                              A text describing the field.                                                                                                                                              | Reference year for which the data were collected.         |
| 15.6.1.3   | type           |                                                                                              The [data type](#datatypes) of the field. <br/>In <br/>case of a geom column in a database, also indicate the shape and CRS.                                                                                              | geometry(Point, 4326)                                     |
| 15.6.1.4   | unit           |                                                                The unit, preferably SI-unit, that values in this field are mapped  to. If 'unit' doesn't apply to a field, use 'null'. If the unit is given  in a seperate field, reference this field.                                                                | MW                                                        |
| 15.6.1.5   | isAbout        |                                                                                                                               An array of objects with describe the field in OEO terms.                                                                                                                                |                                                           |
| 15.6.1.5.1 | name           |                                                                                                                                           The class label of the OEO terms.                                                                                                                                            | wind energy converting unit                               |
| 15.6.1.5.2 | path           |                                                                                                                                                 The URI of the class.                                                                                                                                                  | https://openenergy-platform.org/ontology/oeo/OEO_00000044 |
| 15.6.1.6   | valueReference |                                                                                                               An array of objects for an extended description of the values in the column in OEO terms.                                                                                                                |                                                           |
| 15.6.1.6.1 | value          |                                                                                                                                          The name of the value in the column.                                                                                                                                          | onshore                                                   |
| 15.6.1.6.2 | name           |                                                                                                                                           The class label of the OEO terms.                                                                                                                                            | onshore wind farm                                         |
| 15.6.1.6.3 | path           |                                                                                                                                                 The URI of the class.                                                                                                                                                  | https://openenergy-platform.org/ontology/oeo/OEO_00000311 |



##Datatypes

Available datatypes and corresponding formatting examples:

| dtype |                  example                   |                                   comment                                    |
|:-----:|:------------------------------------------:|:----------------------------------------------------------------------------:|
| json | "{""key1"": ""text"", ""key2"": ""text""}" |                       **csv** seperator should be ";"                        |
| float array     |             [0.02, 279.5]              | arrays with strings should be formatted as strings ("['string1', 'string2']" |
| text     |                   "text"                   |      String data should have text as datatype (text serves as "string")      |
| integer     |                     27                     |                                                                              |